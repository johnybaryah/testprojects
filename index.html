<!DOCTYPE html>

<html ng-app="store"> 
    <!-- 
        store is defined in app.js as a module/app. ng-app is a DIRECTIVE 
        Just by including ng-app - its going to treat HTML as part of angular app - hence you can write expressions like {{4 + 6}}
    -->
    <head>
        <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css"/>
        <style>
            .ng-invalid.ng-dirty{
                border-color: red;
            }

            .ng-valid.ng-dirty{
                border-color: green;
            }
        </style>
    </head>
    <body>
        <h1>{{"Hello!"}}</h1>
        <div ng-controller="StoreController as store">
            <ul class="list-group">
                <div ng-repeat="product in store.Products">
                    <li ng-hide="product.outOfStock" class="list-group-item justify-content-between">
                        <div class="productInfo text-center">
                            <!-- below is the custom directive -->
                            <product-title></product-title>

                            
                            <!-- below code doesn't work as ng-include only works with 
                                server accessing the files but not direct access-->
                            <!--<h3 ng-include="'product-info.html'"></h3> -->

                            <div ng-show="product.images.length" class="imgGallary" ng-controller="GalleryController as gallery">
                                <img ng-src="{{product.images[gallery.current]}}" class="img-thumbnail img-fluid" style="width: 200px; height:200px;"/>
                            </div>
                            <br/>
                            <input class="btn btn-success" type="button" id="btnAddToCart" ng-show="product.canPurchase" value="Add to cart"/>
                        </div>

                        <!-- using controller directive -->
                        <product-panels></product-panels>
                    </li>
                </div>
            </ul>
            
            
        </div>

        <script src="angular.min.js"></script>
        <script src="app.js"></script>

        
    </body>
</html>