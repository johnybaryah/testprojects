<!DOCTYPE html>

<html ng-app="store"> 
    <!-- 
        store is defined in app.js as a module/app. ng-app is a DIRECTIVE 
        Just by including ng-app - its going to treat HTML as part of angular app - hence you can write expressions like {{4 + 6}}
    -->
    <head>
        <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css"/>
        <style>
            .ng-invalid.ng-dirty{
                border-color: red;
            }

            .ng-valid.ng-dirty{
                border-color: green;
            }
        </style>
    </head>
    <body>
        <h1>{{"Hello!"}}</h1>
        <div ng-controller="StoreController as store">
            <ul class="list-group">
                <div ng-repeat="product in store.Products">
                    <li ng-hide="product.outOfStock" class="list-group-item justify-content-between">
                        <div class="productInfo text-center">
                            <!-- below is the custom directive -->
                            <product-title></product-title>

                            
                            <!-- below code doesn't work as ng-include only works with 
                                server accessing the files but not direct access-->
                            <!--<h3 ng-include="'product-info.html'"></h3> -->

                            <div ng-show="product.images.length" class="imgGallary" ng-controller="GalleryController as gallery">
                                <img ng-src="{{product.images[gallery.current]}}" class="img-thumbnail img-fluid" style="width: 200px; height:200px;"/>
                            </div>
                            <br/>
                            <input class="btn btn-success" type="button" id="btnAddToCart" ng-show="product.canPurchase" value="Add to cart"/>
                        </div>

                        <!-- using controller directive -->
                        <section ng-controller="PanelController as panel">
                            <ul class="nav nav-pills">
                                <li class="nav-item"><a class="nav-link" ng-class="{active: panel.isSelected(1)}" href ng-click="panel.selectTab(1)">Description</a></li>
                                <li class="nav-item"><a class="nav-link" ng-class="{active: panel.isSelected(2)}" href ng-click="panel.selectTab(2)">Specs</a></li>
                                <li class="nav-item"><a class="nav-link" href ng-class="{active: panel.isSelected(3)}" ng-click="panel.selectTab(3)">Ratings</a></li>
                            </ul>
                            
                            <product-desc class="panel" ng-show="panel.isSelected(1)"></product-desc>

                            <div product-specs class="panel" ng-show="panel.isSelected(2)"></div>

                            <product-reviews class="panel" ng-show="panel.isSelected(3)"></product-reviews>
                        </section>
                    </li>
                </div>
            </ul>
            
            
        </div>

        <script src="angular.min.js"></script>
        <script src="app.js"></script>

        
    </body>
</html>